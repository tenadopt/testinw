(()=>{"use strict";const e=document.querySelector(".switch"),t=document.getElementById("theme"),n=document.querySelector(".value"),c=document.querySelector(".ac"),o=document.querySelector(".pm"),r=document.querySelector(".percent"),l=document.querySelector(".addition"),i=document.querySelector(".subtraction"),u=document.querySelector(".multiplication"),s=document.querySelector(".division"),d=document.querySelector(".equal"),a=document.querySelector(".decimal"),m=[document.querySelector(".number-0"),document.querySelector(".number-1"),document.querySelector(".number-2"),document.querySelector(".number-3"),document.querySelector(".number-4"),document.querySelector(".number-5"),document.querySelector(".number-6"),document.querySelector(".number-7"),document.querySelector(".number-8"),document.querySelector(".number-9")];let S=null,y=null,q=!1,v=!1,L=!1;const b=()=>n.textContent.split(",").join(""),g=()=>parseFloat(b());let k="dark";e.addEventListener("click",(()=>(k="dark"===k?"light":"dark",e.src="light"===k?"assets/moonIcon.svg":"assets/sunIcon.svg",void fetch(`styles/${k}.css`).then((e=>e.text())).then((e=>{const n=new Blob([e],{type:"text/css"}),c=URL.createObjectURL(n);t.href=c})))));const p=e=>{if("Infinity"===e)return void(n.textContent="Err");if(e.length>=11)return;if(e.length>=7?n.classList.add("smallValue"):n.classList.remove("smallValue"),"."===e[e.length-1])return void(n.textContent+=".");const[t,c]=e.split(".");let o;if(c){const e=parseFloat("0."+c).toString().slice(2);o=parseFloat(t+"."+e).toLocaleString()}else o=parseFloat(t).toLocaleString();n.textContent=o},E=e=>{if(v)p(e),v=!1;else if(q)p(e),q=!1;else if(L)p(e),L=!1;else{const t=b();p(t+e)}},f=()=>{const e=g(),t=parseFloat(S);let n;"addition"===y?n=t+e:"subtraction"===y?n=t-e:"multiplication"===y?n=t*e:"division"===y&&(n=t/e);const c=n.toString();return p(c),c},h=e=>{const t=b();S?(S=f(),y=e,q=!0):(S=t,y=e,q=!0),v=!1,x()},x=()=>{const e=b();p(e)};c.addEventListener("click",(()=>{p("0"),S=null,y=null})),o.addEventListener("click",(()=>{const e=g(),t=b();p("-0"!==t?e>=0?"-"+t:t.substring(1):"0")})),r.addEventListener("click",(()=>{const e=g();p((e/100).toString()),S=null,y=null,L=!0})),l.addEventListener("click",(()=>{h("addition")})),i.addEventListener("click",(()=>{h("subtraction")})),u.addEventListener("click",(()=>{h("multiplication")})),s.addEventListener("click",(()=>{h("division")})),d.addEventListener("click",(()=>{if(S){const e=f();y="equal",p(e),S=null,v=!0}}));for(let e=0;e<m.length;e++)m[e].addEventListener("click",(()=>{E(e.toString())}));a.addEventListener("click",(()=>{const e=b();e.includes(".")||p(e+".")}))})();